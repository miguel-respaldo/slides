% ex: ts=2 sw=2 sts=2 et filetype=tex
% SPDX-License-Identifier: CC-BY-SA-4.0

\begin{frame}[c]{Colecciones en Python}

  En algunás ocaciones los programas necesitan guardar y operar con gran
  número de datos.

  \vspace{\baselineskip}
  El lenguaje de programación Python provee cuatro tipos de datos
  que almacenan información en una colección.

  \pausa
  \vspace{\baselineskip}
  \begin{description}
    \item[List ] es una colección ordenada y modificable.
      Permite miembros duplicados.
    \pausa
    \item[Tuple ] es una colección ordenada e inmutable.
      Permite miembros duplicados.
    \pausa
    \item[Set ] es una colección desordenada y no indexada.
      Sin miembros duplicados.
    \pausa
    \item[Dictionary ] es una colección ordenada* y modificable.
      Sin miembros duplicados.
  \end{description}

\end{frame}

\begin{frame}[c]{Colecciones en Python}

  \begin{exampleblock}{}
    * A partir de la versión 3.7 de Python, los diccionarios están ordenados.
    En Python 3.6 y versiones anteriores, los diccionarios están desordenados.
  \end{exampleblock}

  \vspace{\baselineskip}
  Al elegir un tipo de colección, es útil comprender las propiedades de ese
  tipo. Elegir el tipo correcto para un conjunto de datos en particular
  podría significar la utilización del significado y podría significar un
  aumento en la eficiencia o la seguridad. 
\end{frame}

\section{Listas}

\begin{frame}[fragile]
  \frametitle{Listas}

  \vspace{\baselineskip}
  Las listas se utilizan para almacenar varios elementos en una sola variable.

  \vspace{\baselineskip}
  Las listas son uno de los 4 tipos de datos integrados en Python que se
  utilizan para almacenar colecciones de datos, los otros 3 son Tuple,
  Set y Dictionary, todos con diferentes calidades y usos.

  \vspace{\baselineskip}
  Las listas se crean utilizando corchetes:

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  una_lista = ["manzana", "plátano", "naranja"]
  print(una_lista) 
  \end{lstlisting}
\end{frame}

\begin{frame}[c]{Propiedades de las listas}

  \begin{block}{Elementos de la lista}
    Los elementos de la lista están ordenados, se pueden cambiar
    y permiten valores duplicados.

    Los elementos de la lista están indexados, el primer elemento tiene
    índice \textbf{[0]}, el segundo elemento tiene índice \textbf{[1]}, etc.
  \end{block}

  \pausa
  \begin{block}{Ordenado}
    Cuando decimos que las listas están ordenadas, significa que los
    artículos tienen un orden definido y ese orden no cambiará.

    Si agrega nuevos elementos a una lista, los nuevos elementos se
    colocarán al final de la lista.
  \end{block}

  \begin{alertblock}{Nota}
    Hay algunos métodos de lista que cambiarán el orden,
    pero en general: el orden de los elementos no cambiará. 
  \end{alertblock}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Propiedades de las listas}

  \begin{block}{Modificable}
    La lista se puede cambiar, lo que significa que podemos cambiar,
    agregar y eliminar elementos en una lista después de que se haya creado.
  \end{block}

  \pausa
  \begin{block}{Permite duplicados}
    Dado que las listas están indexadas, las listas pueden tener
    elementos con el mismo valor: 
  \end{block}

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  una_lista = ["manzana", "plátano", "naranja", "manzana", "naranja"]
  print(una_lista) 
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Longitud de una lista}

  Para determinar cuántos elementos tiene una lista, use la función
  \textcolor{codeKeyword2}{len}():

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  una_lista = ["manzana", "plátano", "naranja"]
  print(len(una_lista)) 
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Elementos de lista: tipos de datos}

  Los elementos de la lista pueden ser de cualquier tipo de datos:

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  lista1 = ["manzana", "plátano", "naranja"]
  lista2 = [1, 5, 7, 9, 3]
  lista3 = [True, False, False]
  \end{lstlisting}

  \pausa
  Una lista puede contener diferentes tipos de datos:
  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  lista1 = ["abc", 34, True, 40.5, "texto"]
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Tipo de dato}

  Desde la perspectiva de Python, las listas se definen
  como objetos con el tipo de datos 'lista':

  \vspace{\baselineskip}
  \textbf{<class 'list'>}

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  una_lista = ["manzana", "plátano", "naranja"]
  print(type(una_lista)) 
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{El constructor list()}

  También es posible utilizar el constructor
  \textcolor{codeKeyword2}{list}() al crear una nueva lista. 

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  una_lista = list(("manzana", "plátano", "naranja")) # con doble parentesis
  print(type(una_lista)) 
  \end{lstlisting}

  \vspace{\baselineskip}
  Una lista vacía puede inicializarce como

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  lista_vacia = list()
  otra_lista_vacia = []
  \end{lstlisting}

\end{frame}

\section{Accediendo a los elementos de una lista}

\begin{frame}[fragile]
  \frametitle{Elementos de acceso}

  Los elementos de la lista están indexados y puede acceder
  a ellos consultando el número de índice:

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  lista = ["manzana", "plátano", "naranja"]
  print(lista[1]) 
  \end{lstlisting}

  \begin{exampleblock}{Nota}
    El primer elemento tiene indice 0.
  \end{exampleblock}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Indexación negativa}

  La indexación negativa significa comenzar desde el final

  \vspace{\baselineskip}
  -1 se refiere al último elemento, -2 se refiere al penúltimo elemento, etc.

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  lista = ["manzana", "plátano", "naranja"]
  print(lista[-1]) 
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Rango de índices}

  Puede especificar un rango de índices especificando
  dónde comenzar y dónde terminar el rango.

  \vspace{\baselineskip}
  Al especificar un rango, el valor de retorno será una nueva
  lista con los elementos especificados.

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
lista = ["manzana", "plátano", "limon", "cereza", "kiwi", "mango", "melon"]
print(lista[2:5]) 
  \end{lstlisting}

  \pausa
  \begin{alertblock}{Nota}
    La búsqueda comenzará en el índice 2 (incluido)
    y terminará en el índice 5 (no incluido). 

    Recuerde que el primer elemento tiene índice 0.
  \end{alertblock}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Rango de índices}

  Al omitir el valor inicial, el rango comenzará en el primer elemento: 
  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
lista = ["manzana", "plátano", "limon", "cereza", "kiwi", "mango", "melon"]
print(lista[:4]) 
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Rango de índices}

  Al omitir el valor final, el rango continuará hasta el final de la lista: 
  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
lista = ["manzana", "plátano", "limon", "cereza", "kiwi", "mango", "melon"]
print(lista[2:]) 
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Rango de índices negativos}

  Especifique índices negativos si desea iniciar la búsqueda
  desde el final de la lista:

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
lista = ["manzana", "plátano", "limon", "cereza", "kiwi", "mango", "melon"]
print(lista[-4:-1]) 
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Verificar si un elemento existe}

  Para determinar si un elemento específico está presente en una lista,
  use la palabra clave
  \textcolor{codeKeyword}{in}:

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  lista = ["manzana", "plátano", "naranja"]
  if "manzana" in lista:
    print("Si, la manzana si esta en la lista")
  \end{lstlisting}
\end{frame}

\section{Cambiar elementos de la lista}

\begin{frame}[fragile]
  \frametitle{Cambiar el valor de la lista}

  Para cambiar el valor de un elemento específico,
  consulte el número de índice:

  \vspace{\baselineskip}
  Ejemplo: Cambia el segundo elemento:
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]
frutas[1] = "melón"
print(frutas)
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Cambiar un rango de valores de elementos}

  Para cambiar el valor de los elementos dentro de un rango
  específico, defina una lista con los nuevos valores y consulte el
  rango de números de índice donde desea insertar los nuevos valores:

  \vspace{\baselineskip}
  Ejemplo: Cambie los valores "plátano" y "cereza" por los valores "melón" y "sandía":
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "cereza", "naranja", "lima"]
frutas[1:3] = ["melón", "sandía"]
print(frutas)
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Cambiar un rango de valores de elementos}

  Si inserta más elementos de los que reemplaza, los nuevos elementos
  se insertarán donde especificó, y los elementos restantes se moverán
  en consecuencia:

  \vspace{\baselineskip}
  Ejemplo: Cambie el segundo valor reemplazándolo con dos nuevos valores:
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]
frutas[1:2] = ["melón", "sandía"]
print(frutas)
  \end{lstlisting}

  \vspace{\baselineskip}
  \begin{exampleblock}{Nota}
    La longitud de la lista cambiará cuando la cantidad de elementos
    insertados no coincida con la cantidad de elementos reemplazados.
  \end{exampleblock}{}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Cambiar un rango de valores de elementos}

  Si inserta menos elementos de los que reemplaza, los elementos
  nuevos se insertarán donde especificó, y los elementos restantes
  se moverán en consecuencia:

  \vspace{\baselineskip}
  Ejemplo: Cambie el segundo y tercer valor reemplazándolo con un valor:
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]
frutas[1:3] = ["melón"]
print(frutas)
  \end{lstlisting}
\end{frame}

\section{Agregar elementos a la lista}

\begin{frame}[fragile]
  \frametitle{Agregar elementos}

  Para agregar un elemento al final de la lista, use el método
  \textbf{append}():

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  lista = ["manzana", "plátano", "naranja"]
  lista.append("kiwi")
  print(lista)
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Insertar elementos}

  Para insertar un elemento de la lista en un índice específico,
  use el método \textbf{insert}().

  El método \textbf{insert}() inserta un elemento en el
  índice especificado: 

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  lista = ["manzana", "plátano", "naranja"]
  lista.insert(1, "kiwi")
  print(lista)
  \end{lstlisting}

  \begin{exampleblock}{Nota}
    Como resultado de los ejemplos anteriores,
    la lista ahora contendrán 4 elementos.
  \end{exampleblock}{}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Ampliar lista}

  Para agregar elementos de otra lista a la lista actual,
  use el método \textbf{extend}(). 

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  lista = ["manzana", "plátano", "naranja"]
  otra_lista = ["mango", "papaya", "limon"]
  lista.extend(otra_lista)
  print(lista)
  \end{lstlisting}

  \vspace{\baselineskip}
  Los elementos se agregarán al final de la lista.
\end{frame}

\begin{frame}[fragile]
  \frametitle{Agregar cualquier iterable}

  El método \textbf{extend}() no tiene que agregar listas,
  puede agregar cualquier objeto iterable
  (tuplas, conjuntos, diccionarios, etc.).

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  lista = ["manzana", "plátano", "naranja"]
  tupla = ("mango", "kiwi")
  lista.extend(tupla)
  print(lista)
  \end{lstlisting}
\end{frame}

\section{Eliminar elementos de la lista}

\begin{frame}[fragile]
  \frametitle{Eliminar elemento especificado}

  El método \textbf{remove()} elimina el elemento especificado.

  \vspace{\baselineskip}
  Ejemplo: Eliminar "plátano"
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]
frutas.remove("plátano")
print(frutas)
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Eliminar índice especificado}

  El método \textbf{pop()} elimina el índice especificado.

  \vspace{\baselineskip}
  Ejemplo: Eliminar el segundo elemento:
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]
frutas.pop(1)
print(frutas)
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Eliminar índice especificado}

  Si no especifica el índice, el método \textbf{pop()} elimina
  el último elemento.

  \vspace{\baselineskip}
  Ejemplo: Eliminar el último elemento
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]
frutas.pop()
print(frutas)
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Eliminar índice especificado}

  La palabra clave \textbf{del} también elimina el índice especificado.

  \vspace{\baselineskip}
  Ejemplo: Eliminar el primer elemento
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]
del frutas[0]
print(frutas)
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Eliminar índice especificado}

  La palabra clave \textbf{del} también puede eliminar la lista por completo.

  \vspace{\baselineskip}
  Ejemplo: Eliminar toda la lista
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]
del frutas
  \end{lstlisting}

  \begin{block}{Nota:}
    Ya no podemos usar la variable \textbf{frutas} después de usar
    la palabra clave \textbf{del}
  \end{block}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Borrar la lista}

  El método \textbf{clear()} vacía la lista.

  \vspace{\baselineskip}
  La lista aún permanece, pero no tiene contenido.

  \vspace{\baselineskip}
  Ejemplo: Borrar el contenido de la lista
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]
frutas.clear()
print(frutas)
  \end{lstlisting}
\end{frame}

\section{Recorrer una lista}

\begin{frame}[fragile]
  \frametitle{Recorrer una lista}

  Puede recorrer los elementos de la lista se usa un
  bucle/ciclo para (for):

  \vspace{\baselineskip}
  Ejemplo: Imprima todos los elementos de la lista, uno por uno
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]
for x in frutas:
  print(x)
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Bucle a través de los números de índice}

  También puede recorrer los elementos de la lista
  consultando su número de índice.

  Utilice las funciones \textbf{range()} y \textbf{len()}
  para crear un iterable adecuado.

  \vspace{\baselineskip}
  Ejemplo: Imprima todos los elementos haciendo referencia
  a su número de índice
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]
for i in range( len( frutas) ):
  print( frutas[i] )
  \end{lstlisting}

  \vspace{\baselineskip}
  El iterable creado en el ejemplo anterior es \textbf{[0, 1, 2]}.
\end{frame}

\begin{frame}[fragile]
  \frametitle{Usar un ciclo mientras (while)}

  Puede recorrer los elementos de la lista mediante un bucle/ciclo mientras
  (while).

  \vspace{\baselineskip}
  Use la función len() para determinar la longitud de la lista,
  luego comience en 0 y recorra los elementos de la lista consultando
  sus índices.

  \vspace{\baselineskip}
  Recuerde aumentar el índice en 1 después de cada iteración.

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]
i=0
while i < len( frutas ):
  print(frutas[i])
  i = i + 1
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Bucles utilizando la comprensión de listas}

  La compresión de listas ofrece la sintaxis más corta para
  recorrer listas:

  \vspace{\baselineskip}
  Ejemplo: Un bucle/ciclo (for) corto que imprimirá todos los
  elementos en una lista:
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]
[print(x) for x in frutas]
  \end{lstlisting}

  \vspace{\baselineskip}
  Enseguida veremos mas sobre la compresión de listas.
\end{frame}


\section{Comprensión de listas}

\begin{frame}[c]{Comprensión de listas}
  La comprensión de listas ofrece una sintaxis más corta cuando
  desea crear una nueva lista basada en los valores de una lista
  existente.
\end{frame}

\begin{frame}[fragile]
  \frametitle{Comprensión de listas - Ejemplo}

  Basado en una lista de frutas, desea una nueva lista que
  contenga solo las frutas con la letra "a" en el nombre.

  \vspace{\baselineskip}
  Sin la comprensión de la lista, tendrá que escribir una declaración
  \textcolor{codeKeyword}{for} con una prueba condicional dentro: 

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  lista = ["manzana", "plátano", "naranja", "limno", "kiwi"]
  lista_nueva = []

  for x in lista:
    if "a" in x:
      lista_nueva.append(x)

  print(lista_nueva)
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Comprensión de listas - Ejemplo}

  Con la comprensión de listas, puede hacer todo eso con
  solo una línea de código:

  \vspace{\baselineskip}
  \begin{lstlisting}[language=Python]
  lista = ["manzana", "plátano", "naranja", "limon", "kiwi"]
  lista_nueva = [x for x in lista if "a" in x]

  print(lista_nueva)
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{La sintaxis}

  \begin{lstlisting}[language=Python]
nueva_lista = [expresión for elemento in iterable if condisión == True]
  \end{lstlisting}

  El valor de retorno es una nueva lista, dejando la lista anterior sin cambios.
\end{frame}

\begin{frame}[fragile]
  \frametitle{Condición}

  La condición es como un filtro que solo acepta los
  elementos que se valoran en True.

  \vspace{\baselineskip}
  Ejemplo: Solo acepte artículos que no sean "manzana":
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]

nueva_lista = [x for x in frutas if x != "manzana"]
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Condición}
  La condición \textbf{if x != "manzana"}  volverá Verdadera (True)
  todos los elementos que no sean "manzana", haciendo que la nueva
  lista contenga todas las frutas excepto "manzana".

  La condición es opcional y se puede omitir:

  \vspace{\baselineskip}
  Ejemplo: sin declaración \textbf{si} (if)
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]

nueva_lista = [x for x in frutas]
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Iterable}

  El iterable puede ser cualquier objeto iterable,
  como una lista, una tupla, un conjunto, etc.

  \vspace{\baselineskip}
  Ejemplo: Puede usar la función range() para crear un iterable:
  \begin{lstlisting}[language=Python]
nueva_lista = [x for x in range(10)]
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Iterable}

  Mismo ejemplo, pero con una condición:

  \vspace{\baselineskip}
  Ejemplo: Aceptar solo números inferiores a 5
  \begin{lstlisting}[language=Python]
nueva_lista = [x for x in range(10) if x < 5]
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Expresión}

  La expresión es el elemento actual en la iteración,
  pero también es el resultado, que puede manipular antes de que
  termine como un elemento de lista en la nueva lista:

  \vspace{\baselineskip}
  Ejemplo: Establezca los valores en la nueva lista en mayúsculas
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]

nueva_lista = [x.upper() for x in frutas]
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Expresión}

  Puedes establecer el resultado como quieras

  \vspace{\baselineskip}
  Ejemplo: Establezca todos los valores en la nueva lista en 'hola':
  \begin{lstlisting}[language=Python]
nueva_lista = ['hola' for x in frutas]
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Expresión}

  La expresión también puede contener condiciones,
  no como un filtro, sino como una forma de manipular el resultado:

  \vspace{\baselineskip}
  Ejemplo: Devuelve "naranja" en lugar de "plátano"
  \begin{lstlisting}[language=Python]
frutas = ["manzana", "plátano", "naranja"]

nueva_lista = [x if x != "plátano" else "naranja" for x in frutas]
  \end{lstlisting}

  La expresión del ejemplo anterior dice:

  \vspace{\baselineskip}
  "Devolver el artículo si no es plátano, si es plátano devolver naranja".
\end{frame}
